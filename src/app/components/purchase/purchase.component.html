<div id="new-portfolio-div">
  <div class="container">
      <div class="row">
          <br/>
          <h3 class="annka-inline"><b>New Portfolio</b></h3> 
          <div *ngIf="user" class="annka-inline pull-right">
             <h4 class="annka-inline" style="margin-right:20px;"><b>Wallet Balance - ₦{{currencyService.getAmount(user.account_balance)}}</b></h4>
             <a class="annka-inline annka-green-btn" style="width:200px;" routerLink="/account/fund">FUND ACCOUNT</a>
          </div>
          <br/>
          <br/>
          <hr/>
          <br/>
          <div class="row">
              <div class="col-md-4 col-sm-4">
                  <h4 class="text-center">Give your portfolio a name</h4>
                  <div class="input-group annka-center">
                      <input type="text" class="form-control" placeholder="name" aria-describedby="basic-addon1" value="{{portfolio.name}}" #portfolio_name>
                  </div>
              </div>
              <div class="col-md-4 col-sm-4">
                  <h4 class="text-center">Amount in Portfolio</h4>
                  <h4 class="text-center">₦{{currencyService.getAmount(portfolio.amount)}}</h4>
              </div>
              <div class="col-md-4 col-sm-4">
                  <h4 class="text-center">Assets</h4>
                  <h4 class="text-center">{{asset_codes}}</h4>
              </div>     
          </div>
          <br/>
          <br/>
          <hr/>
          <h3 class="annka-center text-center">Select Asset <a style="margin-left:50px;" (click)="showSearch()"><i class="fas fa-search annka-inline"></i> Search</a></h3>
          <div class="selector-div">
                <select (ngModel)="currencies" class="annka-center" name="curencies"> 
                  <option *ngFor="let money of currencyService.currencies; let i = index" (click)="showPurchase(money.Currency)" (ngValue)="money"> {{money.Currency}} </option>
                </select>
          </div>
          <br/>
          <hr/>
          <h3 class="text-center">Add {{currencyLong}} ({{currency}}) to your portfolio</h3>
          <br/>
          <h3>Our Popular Packages</h3>    
          <br/>       
          <div class="price-item-div">
              <priceitem *ngFor="let price of currencyService.prices; let i = index" [currency]="currency" [price]="price" [ticker]="ticker" [loading]="loading" (click)="addAmount(price)"></priceitem>
          </div>
      </div>
      <div class="row">
          <br/>
          <h5 class="text-center">A Blockchain Transaction Fee of 5%(Maximum of ₦2000) is charged <i class="far fa-question-circle"></i></h5>
          <h5 class="text-center">A Portfolio Creation Fee of 1%(Maximum of ₦1000) is charged <i class="far fa-question-circle"></i></h5>
          <br/>
          <button class="annka-blue-btn annka-center submit-btn" (click)="submitPortfolio(portfolio_name.value)">Create Portfolio</button>
      </div>
  </div>
</div>

<div *ngIf="showError" class="annka-modal-div" id="login-loader-div">
    <div class="innder-annka-modal-div">
        <a class="text-right"><h1 class="close-text" (click)="closeError()">&times;</h1></a>
        <h2 class="text-center">{{portfolioError.name}}</h2>
        <br/>
        <br/>
        <h4 class="text-center">{{portfolioError.message}}</h4>
        <br/>
        <br/>
        <br/>
        <button *ngIf="portfolioError.action=='wallet'" class="annka-blue-no-shadow-btn annka-center submit-btn" (click)="showFundWallet()">FUND WALLET</button>
        <button *ngIf="portfolioError.action=='assets'" class="annka-blue-no-shadow-btn annka-center submit-btn" (click)="closeError()">CONTINUE</button>
    </div>
</div>

<div *ngIf="showPurchaseMessage" class="annka-modal-div" id="login-loader-div">
    <div class="innder-annka-modal-div">
        <a class="text-right"><h1 class="close-text" (click)="closePurchaseMessage()">&times;</h1></a>
        <h2 class="text-center">Create Portfolio</h2>
        <br/>
        <br/>  
         <h4 class="text-center annka-center" style="line-height:1.5em; max-width:900px;">Purchasing Digital Assets involves owning a digital wallet, Maintaining an account on an exchange platform and spending a considerable amount of money just to make a simple transaction go through. Annka removes that complexity and reduces cost significantly with you needing just your credit card and an email address. <br/> Because we are bearing the burding and cost of purchasing and maintaining digital assets on your behalf we charge you a blockchain fee of 5% and a 1% commision. </h4>
        <br/>
        <br/>
        <br/>
        <h4 class="text-center">Estimated Value of Portfolio</h4>
        <h3 class="text-center annka-green">₦{{currencyService.getAmount(currencyService.getNairaAnnkaRate(portfolio.amount))}}</h3>
        <br/>
        <button class="annka-blue-no-shadow-btn annka-center submit-btn" (click)="continuePurchase()">CONTINUE</button>
    </div>
</div>

<div *ngIf="search">
    <search (closeClick)="closeSearchFromParent($event)" (assetSet)="addAssetToParent($event)" [currencies]="currencyService.currencies"></search>
</div>